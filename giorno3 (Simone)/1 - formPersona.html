<!DOCTYPE html>
<html lang="it">
<head>
    <title>Registrazione utente</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/css.css" />
</head>
<body>

    <h1>REGISTRAZIONE UTENTE</h1>

    <!-- Form di registrazione -->
    <form id="registrazione">
        <label for="nome">Nome:</label><br>
        <input id="nome" type="text" placeholder="Inserisci il nome" pattern="[A-Za-z\s]{3,}" required><br><br>

        <label for="cognome">Cognome:</label><br>
        <input id="cognome" type="text" placeholder="Inserisci il cognome" pattern="[A-Za-z\s]{3,}" required><br><br>

        <label for="eta">Età:</label><br>
        <input id="eta" type="number" placeholder="Inserisci l'età" min="1" max="120" required><br><br>

        <label for="data">Data di nascita:</label><br>
        <input id="data" type="date" min="1900-01-01" required><br><br>

        <label for="nazionalita">Nazionalità:</label><br>
        <input id="nazionalita" type="text" placeholder="Inserisci la nazionalità" pattern="[A-Za-z\s]{3,}" required><br><br>

        <button type="button" id="inserisci">Inserisci nella tabella</button>
    </form>

    <!-- Tabella dove verranno inseriti gli utenti -->
    <h2>Utenti Registrati</h2>
    <table border="1" id="tabella-utenti">
        <thead>
            <tr>
                <th>Nome</th>
                <th>Cognome</th>
                <th>Età</th>
                <th>Data di Nascita</th>
                <th>Nazionalità</th>
            </tr>
        </thead>
        <tbody>
            <!-- Righe inserite dinamicamente -->
        </tbody>
    </table>

    <script>
        // Seleziona il bottone e la tabella
        const bottoneInserisci = document.getElementById('inserisci');
        const tabellaUtenti = document.getElementById('tabella-utenti').getElementsByTagName('tbody')[0];

        // Aggiungi un evento al clic sul bottone
        bottoneInserisci.addEventListener('click', function () {
            // Ottieni i valori dagli input
            const nome = document.getElementById('nome').value.trim();
            const cognome = document.getElementById('cognome').value.trim();
            const eta = document.getElementById('eta').value.trim();
            const data = document.getElementById('data').value;
            const nazionalita = document.getElementById('nazionalita').value.trim();

            // Verifica che tutti i campi siano compilati
            if (!nome || !cognome || !eta || !data || !nazionalita) {
                alert("Compila tutti i campi del form!");
                return;
            }

            // Crea una nuova riga nella tabella
            const nuovaRiga = tabellaUtenti.insertRow();

            // Crea celle per la nuova riga
            const cellaNome = nuovaRiga.insertCell(0);
            const cellaCognome = nuovaRiga.insertCell(1);
            const cellaEta = nuovaRiga.insertCell(2);
            const cellaData = nuovaRiga.insertCell(3);
            const cellaNazionalita = nuovaRiga.insertCell(4);

            // Assegna i valori alle celle
            cellaNome.textContent = nome;
            cellaCognome.textContent = cognome;
            cellaEta.textContent = eta;
            cellaData.textContent = data; // Mantiene il formato ISO (YYYY-MM-DD)
            cellaNazionalita.textContent = nazionalita;

            // Resetta i campi del form
            document.getElementById('registrazione').reset();
        });
    </script>

</body>
</html>
